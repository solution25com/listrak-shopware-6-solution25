!function(){var e={884:function(){},385:function(e,i,t){var n=t(884);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),(0,t(534).A)("3379ed8d",n,!0,{})},534:function(e,i,t){"use strict";function n(e,i){for(var t=[],n={},l=0;l<i.length;l++){var a=i[l],s=a[0],r={id:e+":"+l,css:a[1],media:a[2],sourceMap:a[3]};n[s]?n[s].parts.push(r):t.push(n[s]={id:s,parts:[r]})}return t}t.d(i,{A:function(){return f}});var l,a="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!a)throw Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var s={},r=a&&(document.head||document.getElementsByTagName("head")[0]),o=null,d=0,c=!1,p=function(){},m=null,u="data-vue-ssr-id",h="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function f(e,i,t,l){c=t,m=l||{};var a=n(e,i);return g(a),function(i){for(var t=[],l=0;l<a.length;l++){var r=s[a[l].id];r.refs--,t.push(r)}i?g(a=n(e,i)):a=[];for(var l=0;l<t.length;l++){var r=t[l];if(0===r.refs){for(var o=0;o<r.parts.length;o++)r.parts[o]();delete s[r.id]}}}}function g(e){for(var i=0;i<e.length;i++){var t=e[i],n=s[t.id];if(n){n.refs++;for(var l=0;l<n.parts.length;l++)n.parts[l](t.parts[l]);for(;l<t.parts.length;l++)n.parts.push(w(t.parts[l]));n.parts.length>t.parts.length&&(n.parts.length=t.parts.length)}else{for(var a=[],l=0;l<t.parts.length;l++)a.push(w(t.parts[l]));s[t.id]={id:t.id,refs:1,parts:a}}}}function b(){var e=document.createElement("style");return e.type="text/css",r.appendChild(e),e}function w(e){var i,t,n=document.querySelector("style["+u+'~="'+e.id+'"]');if(n){if(c)return p;n.parentNode.removeChild(n)}if(h){var l=d++;i=v.bind(null,n=o||(o=b()),l,!1),t=v.bind(null,n,l,!0)}else i=E.bind(null,n=b()),t=function(){n.parentNode.removeChild(n)};return i(e),function(n){n?(n.css!==e.css||n.media!==e.media||n.sourceMap!==e.sourceMap)&&i(e=n):t()}}var I=(l=[],function(e,i){return l[e]=i,l.filter(Boolean).join("\n")});function v(e,i,t,n){var l=t?"":n.css;if(e.styleSheet)e.styleSheet.cssText=I(i,l);else{var a=document.createTextNode(l),s=e.childNodes;s[i]&&e.removeChild(s[i]),s.length?e.insertBefore(a,s[i]):e.appendChild(a)}}function E(e,i){var t=i.css,n=i.media,l=i.sourceMap;if(n&&e.setAttribute("media",n),m.ssrId&&e.setAttribute(u,i.id),l&&(t+="\n/*# sourceURL="+l.sources[0]+" */",t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(l))))+" */"),e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},i={};function t(n){var l=i[n];if(void 0!==l)return l.exports;var a=i[n]={id:n,exports:{}};return e[n](a,a.exports,t),a.exports}t.d=function(e,i){for(var n in i)t.o(i,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:i[n]})},t.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},t.p="bundles/listrak/",window?.__sw__?.assetPath&&(t.p=window.__sw__.assetPath+"/bundles/listrak/"),function(){"use strict";let{Component:e,Mixin:i}=Shopware;e.register("data-api-test",{template:'<div>\n    <sw-button-process\n        :is-loading="isLoading"\n        :process-success="isSaveSuccessful"\n        @process-finish="saveFinish"\n        @click="check"\n    >\n        {{ $tc(\'dataApiTest.buttonLabel\') }}\n    </sw-button-process>\n</div>',props:["label"],inject:["dataApiTest"],mixins:[i.getByName("notification")],data(){return{isLoading:!1,isSaveSuccessful:!1}},computed:{pluginConfig(){let e=this.$parent;for(;void 0===e.actualConfigData;)e=e.$parent;let i=e.currentSalesChannelId;return e.actualConfigData[i]||e.actualConfigData.null}},methods:{saveFinish(){this.isSaveSuccessful=!1},check(){this.isLoading=!0,this.dataApiTest.check(this.pluginConfig).then(()=>{this.isSaveSuccessful=!0,this.createNotificationSuccess({title:this.$tc("dataApiTest.title"),message:this.$tc("dataApiTest.success")})}).catch(()=>{this.createNotificationError({title:this.$tc("dataApiTest.title"),message:this.$tc("dataApiTest.error")})}).finally(()=>{this.isLoading=!1})}}});let{Component:n,Mixin:l}=Shopware;n.register("email-api-test",{template:'<div>\n    <sw-button-process\n        :is-loading="isLoading"\n        :process-success="isSaveSuccessful"\n        @process-finish="saveFinish"\n        @click="check"\n    >\n        {{ $tc(\'emailApiTest.buttonLabel\') }}\n    </sw-button-process>\n</div>',props:["label"],inject:["emailApiTest"],mixins:[l.getByName("notification")],data(){return{isLoading:!1,isSaveSuccessful:!1}},computed:{pluginConfig(){let e=this.$parent;for(;void 0===e.actualConfigData;)e=e.$parent;let i=e.currentSalesChannelId;return e.actualConfigData[i]||e.actualConfigData.null}},methods:{saveFinish(){this.isSaveSuccessful=!1},check(){this.isLoading=!0,this.emailApiTest.check(this.pluginConfig).then(()=>{this.isSaveSuccessful=!0,this.createNotificationSuccess({title:this.$tc("emailApiTest.title"),message:this.$tc("emailApiTest.success")})}).catch(()=>{this.createNotificationError({title:this.$tc("emailApiTest.title"),message:this.$tc("emailApiTest.error")})}).finally(()=>{this.isLoading=!1})}}});let a=Object.freeze({LISTRAK_MAIL_SEND:"action.listrak.mail.send"}),{Component:s}=Shopware;s.override("sw-flow-sequence-action",{computed:{modalName(){return this.selectedAction===a.LISTRAK_MAIL_SEND?"sw-flow-listrak-mail-send-modal":this.$super("modalName")},actionDescription(){return{...this.$super("actionDescription"),[a.LISTRAK_MAIL_SEND]:e=>this.getListrakMailSendActionDescription(e)}}},methods:{getListrakMailSendActionDescription(e){let i=e.recipient.type;return this.$tc(`Recipient: ${i.charAt(0).toUpperCase()+i.slice(1)}`)},getActionTitle(e){return e===a.LISTRAK_MAIL_SEND?{value:e,icon:"regular-envelope",label:this.$tc("listrakMailSendAction.titleSendMail"),group:"general"}:this.$super("getActionTitle",e)}}});let{types:r}=Shopware.Utils;function o(e){var i;return(i=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z-0-9]+\.)+[a-zA-Z]{2,}))$/)instanceof RegExp?i.test(e):new RegExp(i).test(e)}t(385);let{Component:d,Utils:c,Classes:{ShopwareError:p}}=Shopware,{mapState:m}=d.getComponentHelper();d.register("sw-flow-listrak-mail-send-modal",{template:'{% block sw_flow_listrak_mail_send_modal %}\n    <sw-modal\n        class="sw-flow-listrak-mail-send-modal"\n        :title="$tc(\'listrakMailSendAction.titleSendMail\')"\n        :closable="false"\n        @modal-close="onClose"\n    >\n        {% block sw_flow_mail_send_modal_recipient %}\n        <sw-single-select\n            v-model:value="mailRecipient"\n            name="sw-field--mailRecipient"\n            class="sw-flow-listrak-mail-send-modal__recipient"\n            :options="recipientOptions"\n            :label="$tc(\'sw-flow.modals.mail.labelRecipient\')"\n            :placeholder="$tc(\'sw-flow.modals.mail.placeholderRecipient\')"\n            @update:value="onChangeRecipient"\n        />\n        {% endblock %}\n        {% block sw_flow_mail_send_modal_recipient_emails_grid %}\n        <sw-data-grid\n            v-if="showRecipientEmails"\n            ref="recipientsGrid"\n            class="sw-flow-listrak-mail-send-modal__recipient-grid"\n            :class="recipientGridError ? \'has--error\' : \'\'"\n            :data-source="recipients"\n            :columns="recipientColumns"\n            :show-selection="false"\n            :plain-appearance="true"\n            @inline-edit-save="saveRecipient"\n            @inline-edit-cancel="cancelSaveRecipient"\n        >\n            {% block sw_event_action_detail_recipients_grid_column_email %}\n            <template #column-email="{ item, column, isInlineEdit, compact }">\n                <sw-text-field\n                    v-if="isInlineEdit"\n                    v-model:value="item.email"\n                    name="sw-field--item-email"\n                    class="sw-flow-listrak-mail-send-modal__recipient-email"\n                    :size="compact ? \'small\' : \'default\'"\n                    :error="item.errorMail"\n                    :placeholder="$tc(\'sw-flow.modals.mail.placeholderRecipientEmailAddress\')"\n                />\n                <template v-else>\n                            {{ item.email }}\n                        </template>\n            </template>\n            {% endblock %}\n\n                {% block sw_event_action_detail_recipients_grid_column_name %}\n            <template #column-name="{ item, column, isInlineEdit, compact }">\n                <sw-text-field\n                    v-if="isInlineEdit"\n                    v-model:value="item.name"\n                    name="sw-field--item-name"\n                    class="sw-flow-listrak-mail-send-modal__recipient-name"\n                    :size="compact ? \'small\' : \'default\'"\n                    :error="item.errorName"\n                    :placeholder="$tc(\'sw-flow.modals.mail.placeholderRecipientName\')"\n                />\n                <template v-else>\n                            {{ item.name }}\n                        </template>\n            </template>\n            {% endblock %}\n            <template #actions="{ item, itemIndex }">\n                {% block sw_event_action_detail_recipients_grid_action_edit %}\n                <sw-context-menu-item\n                    class="sw-flow-listrak-mail-send-modal__grid-action-edit"\n                    @click="onEditRecipient(item)"\n                >\n                    {{ $tc(\'global.default.edit\') }}\n                </sw-context-menu-item>\n                {% endblock %}\n\n                    {% block sw_event_action_detail_recipients_grid_action_delete %}\n                <sw-context-menu-item\n                    class="sw-flow-listrak-mail-send-modal__grid-action-delete"\n                    variant="danger"\n                    :disabled="!allowDeleteRecipient(itemIndex)"\n                    @click="onDeleteRecipient(itemIndex)"\n                >\n                    {{ $tc(\'global.default.delete\') }}\n                </sw-context-menu-item>\n                {% endblock %}\n            </template>\n        </sw-data-grid>\n        {% endblock %}\n\n        {% block sw_flow_mail_send_modal_custom %}\n        {% endblock %}\n\n        {% block sw_flow_mail_send_modal_custom_modal %}\n        <sw-number-field\n            class="sw-flow-listrak-mail-send-modal__transactional-message-id"\n            v-model:value="transactionalMessageId"\n            :label="$tc(\'listrakMailSendAction.transactionalMessageIdLabel\')"\n            :help-text="$tc(\'listrakMailSendAction.transactionalMessageIdHelpText\')"\n            :error="transactionalMessageIdError"\n            placeholder="11379312"\n        />\n        <sw-data-grid\n            ref="profileFieldsGrid"\n            class="sw-flow-listrak-mail-send-modal__profile-fields-grid"\n            :class="profileFieldsGridError ? \'has--error\' : \'\'"\n            :data-source="profileFields"\n            :columns="profileFieldsColumns"\n            :show-selection="false"\n            :plain-appearance="true"\n            @inline-edit-save="saveProfileField"\n            @inline-edit-cancel="cancelSaveProfileField"\n        >\n            <template #column-field-id="{ item, column, isInlineEdit, compact }">\n                <sw-number-field\n                    v-if="isInlineEdit"\n                    v-model:value="item.fieldId"\n                    class="sw-flow-listrak-mail-send-modal__profile-field-id"\n                    :size="compact ? \'small\' : \'default\'"\n                    :error="item.errorId"\n                    placeholder="1205"\n                />\n                <template v-else>\n                        {{ item.fieldId }}\n                    </template>\n            </template>\n\n            <template #column-field-value="{ item, column, isInlineEdit, compact }">\n                <sw-textarea-field\n                    v-if="isInlineEdit"\n                    v-model:value="item.fieldValue"\n                    class="listrak-fixed-grid-textarea"\n                    :size="compact ? \'small\' : \'default\'"\n                    :error="item.errorValue"\n                    :title="item.fieldValue"\n                    placeholder="{{ customer.firstName }}"\n                />\n                <template v-else>\n                    {{ item.fieldValue.length > 25 ? item.fieldValue.slice(0, 25) + \'…\' : item.fieldValue }}\n                </template>\n            </template>\n\n            <template #actions="{ item, itemIndex }">\n                <sw-context-menu-item\n                    class="sw-flow-listrak-mail-send-modal__grid-action-edit"\n                    @click="onEditProfileField(item)"\n                >\n                    {{ $tc(\'global.default.edit\') }}\n                </sw-context-menu-item>\n                <sw-context-menu-item\n                    class="sw-flow-listrak-mail-send-modal__grid-action-delete"\n                    variant="danger"\n                    :disabled="!allowDeleteProfileField(itemIndex)"\n                    @click="onDeleteProfileField(itemIndex)"\n                >\n                    {{ $tc(\'global.default.delete\') }}\n                </sw-context-menu-item>\n            </template>\n        </sw-data-grid>\n        {% endblock %}\n\n\n\n\n        {% block sw_flow_mail_send_modal_footer %}\n        <template #modal-footer>\n            {% block sw_flow_mail_send_modal_footer_cancel_button %}\n            <sw-button\n                class="sw-flow-listrak-mail-send-modal__cancel-button"\n                size="small"\n                @click="onClose"\n            >\n                {{ $tc(\'global.default.cancel\') }}\n            </sw-button>\n            {% endblock %}\n\n                {% block sw_flow_mail_send_modal_footer_save_button %}\n            <sw-button\n                class="sw-flow-listrak-mail-send-modal__save-button"\n                variant="primary"\n                size="small"\n                @click="onAddAction"\n            >\n                {{ sequence.id ? $tc(\'sw-flow.modals.buttonSaveAction\') : $tc(\'sw-flow.modals.buttonAddAction\') }}\n            </sw-button>\n            {% endblock %}\n        </template>\n        {% endblock %}\n    </sw-modal>\n{% endblock %}',inject:["repositoryFactory"],emits:["modal-close","process-finish"],props:{sequence:{type:Object,required:!0}},data(){return{showRecipientEmails:!1,mailRecipient:null,recipients:[],selectedRecipient:null,selectedProfileField:null,recipientGridError:null,transactionalMessageId:null,profileFields:[],profileFieldsGridError:null,transactionalMessageIdError:null}},computed:{isNewMail(){return!this.sequence?.id},recipientCustomer(){return[{value:"default",label:this.$tc("listrakMailSendAction.labelCustomer")}]},recipientAdmin(){return[{value:"admin",label:this.$tc("listrakMailSendAction.labelAdmin")}]},recipientCustom(){return[{value:"custom",label:this.$tc("listrakMailSendAction.labelCustom")}]},recipientDefault(){return[{value:"default",label:this.$tc("listrakMailSendAction.labelDefault")}]},recipientContactFormMail(){return[{value:"contactFormMail",label:this.$tc("listrakMailSendAction.labelContactFormMail")}]},entityAware(){return["CustomerAware","UserAware","OrderAware","CustomerGroupAware","CartAware"]},recipientOptions(){let e=this.triggerEvent.aware??[],i=[];return(e.forEach(e=>{let t=(e=e.slice(e.lastIndexOf("\\")+1)).charAt(0).toUpperCase()+e.slice(1);i.includes(t)||i.push(t)}),0===i.length)?this.recipientCustom:"contact_form.send"===this.triggerEvent.name?[...this.recipientDefault,...this.recipientContactFormMail,...this.recipientAdmin,...this.recipientCustom]:["newsletter.confirm","newsletter.register","newsletter.unsubscribe"].includes(this.triggerEvent.name)||i.some(e=>this.entityAware.includes(e))?[...this.recipientCustomer,...this.recipientAdmin,...this.recipientCustom]:[...this.recipientAdmin,...this.recipientCustom]},recipientColumns(){return[{property:"email",label:"listrakMailSendAction.columnRecipientMail",inlineEdit:"string"},{property:"name",label:"listrakMailSendAction.columnRecipientName",inlineEdit:"string"}]},profileFieldsColumns(){return[{property:"field-id",label:"listrakMailSendAction.columnProfileFieldId",inlineEdit:"number"},{property:"field-value",label:"listrakMailSendAction.columnProfileFieldValue",inlineEdit:"string"}]},replyToOptions(){return"contact_form.send"===this.triggerEvent.name?[...this.recipientDefault,...this.recipientContactFormMail,...this.recipientCustom]:[...this.recipientDefault,...this.recipientCustom]},...m("swFlowState",["mailTemplates","triggerEvent","triggerActions"])},created(){this.createdComponent()},methods:{createdComponent(){if(this.transactionalMessageId=this.sequence?.config?.transactionalMessageId||null,this.mailRecipient=this.recipientOptions[0].value,!this.isNewMail){let{config:e}=this.sequence;this.mailRecipient=e.recipient?.type,e.recipient?.type==="custom"&&(Object.entries(e.recipient.data).forEach(([e,i])=>{let t=c.createId();this.recipients.push({id:t,email:e,name:i,isNew:!1})}),this.addRecipient(),this.showRecipientEmails=!0),e?.profileFields&&Object.entries(e.profileFields).forEach(([e,i])=>{let t=c.createId();this.profileFields.push({id:t,fieldId:e,fieldValue:i,isNew:!1})})}this.addProfileField()},onClose(){this.$emit("modal-close")},getRecipientData(){let e={};return"custom"!==this.mailRecipient||this.recipients.forEach(i=>{(i.email||i.name)&&Object.assign(e,{[i.email]:i.name})}),e},getProfileFieldsData(){let e={};return this.profileFields.forEach(i=>{(i.fieldId||i.fieldValue)&&Object.assign(e,{[i.fieldId]:i.fieldValue})}),e},isTransactionalMessageIdError(){return this.transactionalMessageId?!/^\d+$/.test(this.transactionalMessageId)&&(this.transactionalMessageIdError=new p({code:"INVALID_TRANSACTIONAL_MESSAGE_ID",detail:this.$tc("listrakMailSendAction.transactionalMessageIdValueInvalid")}),!0):(this.transactionalMessageIdError=new p({code:"c1051bb4-d103-4f74-8988-acbcafc7fdc3"}),!0)},isRecipientGridError(){if("custom"!==this.mailRecipient)return!1;if(1===this.recipients.length&&!this.recipients[0].email&&!this.recipients[0].name)return this.validateRecipient(this.recipients[0],0),!0;let e=this.recipients.filter(e=>!e.isNew).findIndex(e=>!e.name||!e.email||!o(e.email));return e>=0&&this.validateRecipient(this.recipients[e],e),e>=0},isProfileFieldsGridError(){if(1===this.profileFields.length&&!this.profileFields[0].fieldId&&!this.profileFields[0].fieldValue)return this.profileFields=[],!1;let e=this.profileFields.filter(e=>!e.isNew).findIndex(e=>!e.fieldId||!e.fieldValue);return e>=0&&this.validateProfileField(this.profileFields[e],e),e>=0},onAddAction(){this.recipientGridError=this.isRecipientGridError(),this.profileFieldsGridError=this.isProfileFieldsGridError();let e=this.isTransactionalMessageIdError();if(this.profileFieldsGridError||this.recipientGridError||e)return;this.resetError();let i={...this.sequence,config:{transactionalMessageId:this.transactionalMessageId,recipient:{type:this.mailRecipient,data:this.getRecipientData()},profileFields:this.getProfileFieldsData()}};this.$nextTick(()=>{this.$emit("process-finish",i)})},onChangeRecipient(e){"custom"===e?(this.showRecipientEmails=!0,this.addRecipient()):this.showRecipientEmails=!1},addRecipient(){let e=c.createId();this.recipients.push({id:e,email:"",name:"",isNew:!0}),this.$nextTick().then(()=>{setTimeout(()=>{let i=this.$refs.recipientsGrid;i&&(i.currentInlineEditId=e,i.enableInlineEdit())},100)})},addProfileField(){let e=c.createId();this.profileFields.push({id:e,fieldId:"",fieldValue:"",isNew:!0}),this.$nextTick().then(()=>{setTimeout(()=>{let i=this.$refs.profileFieldsGrid;i&&(i.startInlineEdit=e,i.enableInlineEdit())},100)})},saveRecipient(e){let i=this.recipients.findIndex(i=>i.id===e.id);if(this.validateRecipient(e,i)){this.$nextTick(()=>{this.$refs.recipientsGrid.currentInlineEditId=e.id,this.$refs.recipientsGrid.enableInlineEdit()});return}e.isNew&&(this.addRecipient(),this.recipients[i].isNew=!1),this.resetError()},saveProfileField(e){let i=this.profileFields.findIndex(i=>i.id===e.id);if(this.validateProfileField(e,i)){this.$nextTick().then(()=>{let i=this.$refs.profileFieldsGrid;i&&(i.currentInlineEditId=e.id,i.enableInlineEdit())});return}e.isNew&&(this.addProfileField(),this.profileFields[i].isNew=!1),this.resetError()},cancelSaveRecipient(e){if(e.isNew)e.name="",e.email="";else{let e=this.recipients.findIndex(e=>e.id===this.selectedRecipient.id);this.recipients[e]=this.selectedRecipient}this.resetError()},cancelSaveProfileField(e){if(e.isNew)e.fieldId="",e.fieldValue="";else{let e=this.profileFields.findIndex(e=>e.id===this.selectedProfileField.id);this.profileFields[e]=this.selectedProfileField}this.resetError()},onEditRecipient(e){let i=this.recipients.findIndex(i=>e.id===i.id);e.name||e.email?this.validateRecipient(e,i):this.isCompatEnabled("INSTANCE_SET")?(this.$set(this.recipients,i,{...e,errorName:null}),this.$set(this.recipients,i,{...e,errorMail:null})):(this.recipients[i]={...e,errorName:null},this.recipients[i]={...e,errorMail:null}),this.$refs.recipientsGrid.currentInlineEditId=e.id,this.$refs.recipientsGrid.enableInlineEdit(),this.selectedRecipient={...e}},onDeleteRecipient(e){this.recipients.splice(e,1)},onEditProfileField(e){let i=this.profileFields.findIndex(i=>e.id===i.id);e.fieldId||e.fieldValue?this.validateProfileField(e,i):this.isCompatEnabled("INSTANCE_SET")?(this.$set(this.profileFields,i,{...e,errorId:null}),this.$set(this.profileFields,i,{...e,errorValue:null})):(this.profileFields[i]={...e,errorId:null},this.profileFields[i]={...e,errorValue:null}),this.$refs.profileFieldsGrid.currentInlineEditId=e.id,this.$refs.profileFieldsGrid.enableInlineEdit(),this.selectedProfileField={...e}},onDeleteProfileField(e){this.profileFields.splice(e,1)},setNameError(e){return e?null:new p({code:"c1051bb4-d103-4f74-8988-acbcafc7fdc3"})},setMailError(e){let i=null;return e||(i=new p({code:"c1051bb4-d103-4f74-8988-acbcafc7fdc3"})),o(e)||(i=new p({code:"INVALID_MAIL"})),i},setIdError(e){let i=null;return e||(i=new p({code:"c1051bb4-d103-4f74-8988-acbcafc7fdc3"})),/^\d+$/.test(e)||(i=new p({code:"INVALID_PROFILE_FIELD_ID",detail:this.$tc("listrakMailSendAction.profileFieldIdValueInvalid")})),i},setValueError(e){let i=null;return e||(i=new p({code:"c1051bb4-d103-4f74-8988-acbcafc7fdc3"})),i},validateRecipient(e,i){let t=this.setNameError(e.name),n=this.setMailError(e.email);return this.isCompatEnabled("INSTANCE_SET")?this.$set(this.recipients,i,{...e,errorName:t,errorMail:n}):this.recipients[i]={...e,errorName:t,errorMail:n},t||n},validateProfileField(e,i){let t=this.setIdError(e.fieldId),n=this.setValueError(e.fieldValue);return this.isCompatEnabled("INSTANCE_SET")?this.$set(this.profileFields,i,{...e,errorId:t,errorValue:n}):this.profileFields[i]={...e,errorId:t,errorValue:n},t||n},resetError(){this.recipientGridError=null,this.recipients.forEach(e=>{e.errorName=null,e.errorMail=null}),this.profileFieldsGridError=null,this.profileFields.forEach(e=>{e.errorId=null,e.errorValue=null}),this.transactionalMessageIdError=null},allowDeleteRecipient(e){return e!==this.recipients.length-1},allowDeleteProfileField(e){return e!==this.profileFields.length-1}}});let u=Shopware.Classes.ApiService;class h extends u{constructor(e,i,t="listrak-data-api"){super(e,i,t)}check(e){let i=this.getBasicHeaders();return this.httpClient.post(`_action/${this.getApiBasePath()}/test`,e,{headers:i}).then(e=>u.handleResponse(e))}}let f=Shopware.Classes.ApiService;class g extends f{constructor(e,i,t="listrak-email-api"){super(e,i,t)}check(e){let i=this.getBasicHeaders();return this.httpClient.post(`_action/${this.getApiBasePath()}/test`,e,{headers:i}).then(e=>f.handleResponse(e))}}var b=JSON.parse('{"dataApiTest":{"buttonLabel":"API-Verbindung testen","title":"Datenintegrations-API-Test","success":"Die API-Verbindung war erfolgreich.","error":"Verbindung konnte nicht hergestellt werden. Bitte pr\xfcfen Sie Ihre Zugangsdaten."},"emailApiTest":{"buttonLabel":"API-Verbindung testen","title":"E-Mail-Integrations-API-Test","success":"Die API-Verbindung war erfolgreich.","error":"Verbindung konnte nicht hergestellt werden. Bitte pr\xfcfen Sie Ihre Zugangsdaten."},"listrakMailSendAction":{"mailSend":"E-Mail verschicken","columnRecipientName":"Empf\xe4nger-Name","columnRecipientMail":"Empf\xe4nger-E-Mail-Adresse","placeholderRecipientEmailAddress":"E-Mail-Adresse eingeben ...","placeholderRecipientName":"Namen eingeben ...","fieldMailTemplateDetailLink":"E-Mail-Template \xf6ffnen","titleSendMail":"E-Mail senden mit Listrak","labelEmailTemplate":"Template","placeholderEmailTemplate":"E-Mail-Template ausw\xe4hlen ...","titleNewEmailTemplate":"Neues E-Mail-Template","tabGeneral":"Allgemein","tabMailText":"Mail-Text","labelMailType":"Typ","placeholderMailType":"Typ ausw\xe4hlen ...","labelSubject":"Betreff","labelSenderName":"Absender","placeholderSubject":"Thema eingeben ...","placeholderSenderName":"Absendernamen eingeben ...","labelDescription":"Beschreibung","placeholderDescription":"Beschreibung eingeben ...","labelContentPlain":"Klartext","labelContentHtml":"HTML","placeholderPlain":"Klartext-Inhalte eingeben ...","placeholderHtml":"HTML-Inhalte eingeben ...","buttonAddMailTemplate":"E-Mail-Template hinzuf\xfcgen","labelDefault":"Standard","labelCustomer":"Kunde","labelAdmin":"Administrator","labelCustom":"Benutzerdefiniert","labelContactFormMail":"Anfragesteller","labelRecipient":"Empf\xe4nger","placeholderRecipient":"E-Mail-Empf\xe4nger ausw\xe4hlen ...","useDifferentReplyToLabel":"Absender","labelReplyTo":"Benutzerdefinierte Absender-Adresse","placeholderReplyTo":"E-Mail-Adresse eingeben ...","tooltipDifferentReplyTo":"E-Mails werden standardm\xe4\xdfig von der E-Mail-Adresse des Shop-Betreibers versendet. Du kannst die E-Mail-Adresse des Shop-Betreibers in den <a href=\\"{settingsLink}\\">Einstellungen</a> \xe4ndern.","labelLatestDocuments":"Anh\xe4nge","placeholderLatestDocuments":"Dokumente ausw\xe4hlen ...","documentDescription":"Wenn die hier ausgew\xe4hlten Dokumente nicht existieren, k\xf6nnen sie nicht angeh\xe4ngt und versendet werden. Stelle sicher, dass die Dokumente durch eine vorhergehende Aktion erstellt wurden, bevor diese Aktion ausgef\xfchrt wird.","transactionalMessageIdLabel":"Transaktionsnachrichten-ID","transactionalMessageIdHelpText":"Gehen Sie in Listrak Admin zu Hilfe und Support > API-ID-Informationen, um die Transaktionsnachrichten-ID zu finden.","profileFieldsLabel":"Zuordnung von Listrak-Profilfeldern","profileFieldsFormatInvalid":"Bitte geben Sie ein g\xfcltiges Format f\xfcr die Profilfelder ein.","transactionalMessageIdValueInvalid":"Bitte geben Sie einen g\xfcltigen Wert f\xfcr die Transaktionsnachrichten-ID ein.","profileFieldIdValueInvalid":"Bitte geben Sie einen g\xfcltigen Wert f\xfcr die Profilfeld-ID ein.","columnProfileFieldId":"Feld-ID","columnProfileFieldValue":"Feldwert"}}'),w=JSON.parse('{"dataApiTest":{"buttonLabel":"Test API connection","title":"Data Integration API Test","success":"The API connection was successful.","error":"Could not connect. Please check your credentials."},"emailApiTest":{"buttonLabel":"Test API connection","title":"Email Integration API Test","success":"The API connection was successful.","error":"Could not connect. Please check your credentials."},"listrakMailSendAction":{"mailSend":"Send email","columnRecipientName":"Recipient name","columnRecipientMail":"Recipient email address","placeholderRecipientEmailAddress":"Enter email address...","placeholderRecipientName":"Enter name...","fieldMailTemplateDetailLink":"Open email template","titleSendMail":"Send email with Listrak","labelEmailTemplate":"Template","placeholderEmailTemplate":"Select email template...","titleNewEmailTemplate":"New email template","tabGeneral":"General","tabMailText":"Mail text","labelMailType":"Type","placeholderMailType":"Select a type...","labelSubject":"Subject","labelSenderName":"Sender name","placeholderSubject":"Enter subject...","placeholderSenderName":"Enter sender name ...","labelDescription":"Description","placeholderDescription":"Enter description...","labelContentPlain":"Plain text","labelContentHtml":"HTML","placeholderPlain":"Enter email template plain text...","placeholderHtml":"Enter email template HTML text...","buttonAddMailTemplate":"Add email template","labelDefault":"Default","labelCustomer":"Customer","labelAdmin":"Admin","labelCustom":"Custom","labelContactFormMail":"Inquirer","labelRecipient":"Recipient","placeholderRecipient":"Select email recipient...","useDifferentReplyToLabel":"Sender","labelReplyTo":"Custom sender address","placeholderReplyTo":"Enter email address...","tooltipDifferentReplyTo":"Emails are sent from the shop owner’s email address by default. You can edit the shop owner’s email address in the <a href=\\"{settingsLink}\\">settings</a>.","labelLatestDocuments":"Attachments","placeholderLatestDocuments":"Select documents...","documentDescription":"If the selected documents do not exist, they cannot be attached and sent. Make sure documents are generated by a preceding action before this action is executed.","transactionalMessageIdLabel":"Transactional Message ID","transactionalMessageIdHelpText":"In Listrak Admin go to Help & Support > API ID Information to find the Transactional Message ID.","profileFieldsLabel":"Listrak Profile Fields\' Mapping","profileFieldsFormatInvalid":"Please enter a valid format for the profile fields.","transactionalMessageIdValueInvalid":"Please enter a valid value for the Transactional Message ID.","profileFieldIdValueInvalid":"Please enter a valid value for the Profile Field ID.","columnProfileFieldId":"Field ID","columnProfileFieldValue":"Field Value"}}');Shopware.Service().register("dataApiTest",()=>new h(Shopware.Application.getContainer("init").httpClient,Shopware.Service("loginService"))),Shopware.Service().register("emailApiTest",()=>new g(Shopware.Application.getContainer("init").httpClient,Shopware.Service("loginService"))),Shopware.Locale.extend("de-DE",b),Shopware.Locale.extend("en-GB",w)}()}();